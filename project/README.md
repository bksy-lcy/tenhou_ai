# 1.train GRP model
## 1.1 GRP_NET: Global_Reward_Prediction.py
## 1.2 transform log to data: log_to_GRP.py
## 1.3 train: Global_Reward_Prediction.py
# 2.train player
## 2.1 self_play_server: game.py
## 2.2 player_net for (action,prob): lcy_net.py //draw/ron/discard/kong/pong/chow/dora_net.py
## 2.3 player_mcts: mcts_lcy.py
## 2.4 tarin(self_play): train.py
# 3.inline test
## 3.1 online_play_server: game.py
## 3.2 online_game_start: game_start.py

# 调用
log_to_GRP
Global_Reward_Prediction
train->game->mcts_lcy->lcy_net.py(->base_net.py)
game_start->game->...

# 局面状态
## 公用状态
1.点数 34，4 （二进制）
2.本场 34，1
3.立直棒 34，1
4.巡目 34，1
5.场风 34，1
6.自风 34，1
7.宝牌 34，5
8.当前玩家 34，1
9.当前状态 34，1
8.自.手牌 34，17 14+3（红宝牌）
9.自.副露 34，32 32=（（5+3）* 4） 5=4（副露牌）+1（哪张来自其他人） 3（红宝牌）
10.自.牌河 34，34
11.自.立直 34， 1 （巡目）
12.自.先验.向听 34，1
13.自.先验.有效进章 34，34 （打i时的有效进章i=0...33）
14.自.先验.得点与速度 34，（4 * 18) （打i能否在j向听内听到k * 100的牌，i=0...33,j=0...3,k=1...12,16,18,24,32,36,48） 
15.下.手牌 34，17 14+3（红宝牌）
16.下.副露 34，32 32=（（5+3）* 4） 5=4（副露牌）+1（哪张来自其他人） 3（红宝牌）
17.下.牌河 34，34
18.下.立直 34， 1 （巡目）
19.下.先验.向听 34，1
20.下.先验.有效进章 34，34 （打i时的有效进章i=0...33）
21.下.先验.得点与速度 34，（4 * 18) （打i能否在j向听内听到k * 100的牌，i=0...33,j=0...3,k=1...12,16,18,24,32,36,48） 
22.对.手牌 34，17 14+3（红宝牌）
23.对.副露 34，32 32=（（5+3）* 4） 5=4（副露牌）+1（哪张来自其他人） 3（红宝牌）
24.对.牌河 34，34
25.对.立直 34， 1 （巡目）
26.对.先验.向听 34，1
27.对.先验.有效进章 34，34 （打i时的有效进章i=0...33）
28.对.先验.得点与速度 34，（4 * 18) （打i能否在j向听内听到k * 100的牌，i=0...33,j=0...3,k=1...12,16,18,24,32,36,48） 
29.上.手牌 34，17 14+3（红宝牌）
30.上.副露 34，32 32=（（5+3）* 4） 5=4（副露牌）+1（哪张来自其他人） 3（红宝牌）
31.上.牌河 34，34
32.上.立直 34， 1 （巡目）
33.上.先验.向听 34，1
34.上.先验.有效进章 34，34 （打i时的有效进章i=0...33）
35.上.先验.得点与速度 34，（4 * 18) （打i能否在j向听内听到k * 100的牌，i=0...33,j=0...3,k=1...12,16,18,24,32,36,48） 
36.牌山余量 34，4 （自己视角）
37.牌山顺序 34，136
34，920

# 结构
## 抽牌
输入：920*34*1
输出：34，4
内部：34：{（3*1，256），【（3*1，256），（3*1，256）】*5，（1*1，1）}，1：{（3*1，256），【（3*1，256），（3*1，256）】*5，（3*1，32），fc(*1024*256*1)}
## 弃牌
输入：920*34*1
输出：34，4
内部：34：{（3*1，256），【（3*1，256），（3*1，256）】*5，（1*1，1）}，1：{（3*1，256），【（3*1，256），（3*1，256）】*5，（3*1，32），fc(*1024*256*1)}
## 荣
输入：920*34*1
输出：16，4
内部：16：{（3*1，256），【（3*1，256），（3*1，256）】*5，（3*1，32），fc(*1024*256*16)}，1：{（3*1，256），【（3*1，256），（3*1，256）】*5，（3*1，32），fc(*1024*256*1)}
## 杠
输入：920*34*1
输出：5，4
内部：5：{（3*1，256），【（3*1，256），（3*1，256）】*5，（3*1，32），fc(*1024*256*5)}，1：{（3*1，256），【（3*1，256），（3*1，256）】*5，（3*1，32），fc(*1024*256*1)}
## 碰
输入：920*34*1
输出：4，4
内部：4：{（3*1，256），【（3*1，256），（3*1，256）】*5，（3*1，32），fc(*1024*256*4)}，1：{（3*1，256），【（3*1，256），（3*1，256）】*5，（3*1，32），fc(*1024*256*1)}
## 吃
输入：920*34*1
输出：4，4
内部：4：{（3*1，256），【（3*1，256），（3*1，256）】*5，（3*1，32），fc(*1024*256*4)}，1：{（3*1，256），【（3*1，256），（3*1，256）】*5，（3*1，32），fc(*1024*256*1)}
## 宝
输入：920*34*1
输出：34，4
内部：34：{（3*1，256），【（3*1，256），（3*1，256）】*5，（1*1，1）}，1：{（3*1，256），【（3*1，256），（3*1，256）】*5，（3*1，32），fc(*1024*256*1)}
## 最终得分预测
输入：7：3+4=场风+轮次+本场+目前点数
输出：4
内部：7*32*128(*512*512*128)*32*4
